<!-- <div id="page-top">
  <div id="wrapper">

    <div id="content-wrapper" class="d-flex flex-column">
      <app-sidebar></app-sidebar>
    </div>
  </div>
</div>
<app-home></app-home> -->
<!-- <app-sidebar></app-sidebar> -->


<!-- Page Wrapper -->
<div id="wrapper">

  <!-- Sidebar -->
  <app-sidebar></app-sidebar>
  <!-- End of Sidebar -->

  <!-- Content Wrapper -->
  <div id="content-wrapper" class="d-flex flex-column">

    <!-- Main Content -->
    <div id="content">

      <!-- Topbar -->
      <app-topnavbar></app-topnavbar>
      <!-- End of Topbar -->


      <!-- Page Heading -->
      <div class="container-fluid">

        <div class="d-sm-flex align-items-center justify-content-between mb-4">
          <h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
          <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i
              class="fas fa-download fa-sm text-white-50"></i> Generate Report</a>
        </div>

        <!-- Content Row -->
        <div class="row">

          <!-- Earnings (Monthly) Card Example -->
          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-primary shadow h-100 py-2">
              <div class="card-body">
                <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">All Assets</div>
                    <div class="h5 mb-0 font-weight-bold text-gray-800">40,000</div>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-calendar fa-2x text-gray-300"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Earnings (Monthly) Card Example -->
          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-success shadow h-100 py-2">
              <div class="card-body">
                <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-success text-uppercase mb-1">All Faults</div>
                    <div class="h5 mb-0 font-weight-bold text-gray-800">215</div>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Earnings (Monthly) Card Example -->
          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-info shadow h-100 py-2">
              <div class="card-body">
                <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-info text-uppercase mb-1">All Categories</div>
                    <div class="row no-gutters align-items-center">
                      <div class="col-auto">
                        <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">50</div>
                      </div>
                      <div class="col">
                        <div class="progress progress-sm mr-2">
                          <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="50"
                            aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Pending Requests Card Example -->
          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-warning shadow h-100 py-2">
              <div class="card-body">
                <div class="row no-gutters align-items-center">
                  <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">All Users</div>
                    <div class="h5 mb-0 font-weight-bold text-gray-800">18</div>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-comments fa-2x text-gray-300"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid">

        <div class="card shadow mb-4">
          <div class="card-header py-3">
            <span>
              <h6 class="m-0 font-weight-bold text-primary">ASSETS TABLE <button type="button" class="btn btn-primary"
                  style="float:right;" data-toggle="modal" data-target="#exampleModal">
                  Create new Asset
                </button></h6>
            </span>
          </div>

          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                <thead>
                  <tr>
                    <th>
                      <label class="au-checkbox">
                        <input type="checkbox">
                        <span class="au-checkmark"></span>
                      </label>
                    </th>
                    <th>asset_code</th>
                    <th>asset_desc</th>
                    <th>refnum</th>
                    <th>date_acquired</th>
                    <th>original_cost</th>
                    <th>equip_status</th>
                    <th class="" scope="col">Action</th>
                  </tr>
                </thead>
                <!-- <tfoot>
                <tr>
                  <th>Name</th>
                  <th>Position</th>
                  <th>Office</th>
                  <th>Age</th>
                  <th>Start date</th>
                  <th>Salary</th>
                </tr>
              </tfoot> -->
                <tbody>
                  <tr *ngFor="let product of allAssets; let i = index">
                    <td>{{i+1}}</td>
                    <td>{{product?.asset_code | titlecase}}</td>
                    <td>{{product?.asset_desc}}</td>
                    <td>{{product?.refnum}}</td>
                    <td>{{product?.date_acquired}}</td>
                    <td>{{product?.original_cost}}</td>
                    <td>{{product?.equip_status}}</td>
                    <td>
                      <div class="table-data-feature">
                        <a routerLink="../admindetails/{{product?._id}}" routerLinkActive="active"
                          (click)="setLocalForAdmin()">
                          <button class="btn btn-sm btn-info mr-3" data-toggle="tooltip" data-placement="top" title=""
                            data-original-title="Send"><i class="fa fa-eye"> </i></button></a>

                        <!-- <a routerLink="../admineditproducts/{{product?._id}}" routerLinkActive="active"> -->
                        <button class="btn btn-sm btn-success mr-3" data-toggle="modal" data-target="#exampleModal"
                          (click)="addId(product)" data-placement="top" title="" data-original-title="Send"><i
                            class="fa fa-edit"></i></button>

                        <button class="btn btn-sm btn-danger mr-3" (click)="deleteAProduct(product, product._id, i)"><i
                            class="fa fa-times"></i></button>

                        <!-- </a>                       -->
                        <span data-toggle="tooltip" data-placement="top" title="Tooltip on top">
                          <label class="switch switch-3d switch-primary mr-3">
                            <input type="checkbox" class="switch-input" [checked]="product.status">
                            <span class="switch-label"></span>
                            <span class="switch-handle"></span>
                          </label>
                        </span>

                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </div>
      <!-- /.container-fluid -->


      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="py-3" style="text-align:center">
              <h5>PLEASE FILL IN CARD DETAILS</h5>
            </div>
            <form [formGroup]='createAssetFormGroup'>
              <div class="modal-body">
                <div class="row">
                  <div class=" col form-group">
                    <!-- <label for="exampleFormControlSelect1">Example select</label> -->
                    <select class="form-control" id="exampleFormControlSelect1" formControlName='asset_group_id'>
                      <option *ngFor="let product of allGroups; let i = index" [value]="product?.id">{{product?.detail}}
                      </option>

                    </select>
                    <small class="text-danger" id="error" *ngIf='!createAssetFormGroup.valid'>Category is required!
                    </small>
                    <!-- <small class="text-danger" id="error"
                      *ngIf="createAssetFormGroup.get('asset_group_id').touched && createAssetFormGroup.get('asset_group_id').invalid">Category
                      is required</small> -->
                    <!-- <pre>{{createAssetFormGroup.value | json}}</pre> -->
                  </div>
                  <div class="col form-group">
                    <input type="text" class="form-control" formControlName='asset_desc'
                      placeholder="Asset Description">
                  </div>
                </div>

                <div class="row py-3">
                  <div class="col form-group">
                    <input type="text" class="form-control" formControlName='asset_type' placeholder="Asset Type">
                  </div>
                  <div class="col form-group">
                    <input type="text" class="form-control" formControlName='date_acquired' placeholder="Date Acquired">
                  </div>
                </div>
                <div class="row py-3">
                  <div class="col form-group">
                    <input type="text" class="form-control" formControlName='refnum' placeholder="Reference Number">
                  </div>
                  <div class="col form-group">
                    <input type="text" class="form-control" formControlName='next_service_date'
                      placeholder="Next Sevice Date">
                  </div>
                </div>
                <div class="row py-3">
                  <div class="col form-group">
                    <input type="text" class="form-control" formControlName='original_cost' placeholder="Original Cost">
                  </div>
                  <div class="col form-group">
                    <input type="text" class="form-control" formControlName='equip_status' placeholder="Equip Status">
                  </div>
                  <!-- <div class="col">
                         <input type="text" class="form-control" formControlName='total_maint_amt' placeholder="Total Maintainance Amount">
                       </div> -->
                </div>

                <!-- <div class="row py-3">
                  <div class="col">
                           <input type="text" class="form-control" formControlName='last_service_date' placeholder="Last Service Date">
                         </div>
                  <div class="col">
                           <input type="text" class="form-control" formControlName='last_bill_amount' placeholder="last_bill_amount ">
                         </div>
                </div> -->
                <!-- <div class="row py-3">
                  <div class="col">
                    <input type="text" class="form-control" formControlName='equip_status' placeholder="Equip Status">
                  </div>
                  <div class="col">
                             <input type="text" class="form-control" formControlName='date_sold' placeholder="Date Sold">
                           </div>
                </div> -->


                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  <button type="submit" [disabled]="!createAssetFormGroup.valid" (click)="saveNewAsset()"
                    class="btn btn-primary">Save changes</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

    </div>
    <!-- End of Main Content -->

    <!-- Footer -->
    <app-footer></app-footer>
    <!-- End of Footer -->

  </div>
  <!-- End of Content Wrapper -->

</div>
